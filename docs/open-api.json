{
  "openapi": "3.0.1",
  "info": {
    "title": "OpenAPI definition",
    "version": "v0"
  },
  "servers": [
    {
      "url": "http://localhost:8081",
      "description": "Generated server url"
    }
  ],
  "paths": {
    "/api/properties/{id}": {
      "get": {
        "tags": [
          "property-controller"
        ],
        "operationId": "getPropertyById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PropertyDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "property-controller"
        ],
        "operationId": "updateProperty",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PropertyDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PropertyDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "property-controller"
        ],
        "operationId": "deleteProperty",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/properties": {
      "get": {
        "tags": [
          "property-controller"
        ],
        "operationId": "getAllProperties",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PropertyDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "property-controller"
        ],
        "operationId": "addProperty",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PropertyCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PropertyDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/properties/{propertyId}/units": {
      "post": {
        "tags": [
          "property-controller"
        ],
        "operationId": "addUnit",
        "parameters": [
          {
            "name": "propertyId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UnitDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UnitDto"
                }
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "tags": [
          "o-auth-2-resource-server-controller"
        ],
        "operationId": "index",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "PropertyDto": {
        "required": [
          "address",
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "enum": [
              "UNIFAMILIAR",
              "MULTIFAMILIAR",
              "COMERCIAL"
            ]
          },
          "address": {
            "type": "string"
          },
          "units": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UnitDto"
            }
          },
          "totalUnits": {
            "type": "integer",
            "format": "int32"
          },
          "occupiedUnits": {
            "type": "integer",
            "format": "int32"
          },
          "monthlyRevenue": {
            "type": "number"
          },
          "activeLeases": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "UnitDto": {
        "required": [
          "number"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "bathrooms": {
            "type": "integer",
            "format": "int32"
          },
          "bedrooms": {
            "type": "integer",
            "format": "int32"
          },
          "number": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "area": {
            "type": "integer",
            "format": "int32"
          },
          "monthlyRent": {
            "type": "number"
          },
          "marketRent": {
            "type": "number"
          },
          "note": {
            "type": "string"
          }
        }
      },
      "AddressDto": {
        "required": [
          "address1",
          "city",
          "country",
          "postalCode",
          "state"
        ],
        "type": "object",
        "properties": {
          "address1": {
            "type": "string"
          },
          "address2": {
            "type": "string"
          },
          "city": {
            "type": "string"
          },
          "state": {
            "type": "string"
          },
          "postalCode": {
            "type": "string"
          },
          "country": {
            "type": "string"
          }
        }
      },
      "PropertyCreateRequest": {
        "required": [
          "address",
          "propertyName",
          "propertyType"
        ],
        "type": "object",
        "properties": {
          "propertyName": {
            "type": "string"
          },
          "propertyType": {
            "type": "string",
            "enum": [
              "UNIFAMILIAR",
              "MULTIFAMILIAR",
              "COMERCIAL"
            ]
          },
          "address": {
            "$ref": "#/components/schemas/AddressDto"
          },
          "details": {
            "$ref": "#/components/schemas/PropertyDetailsDto"
          },
          "description": {
            "type": "string"
          },
          "units": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UnitCreateRequest"
            }
          }
        }
      },
      "PropertyDetailsDto": {
        "type": "object",
        "properties": {
          "yearBuilt": {
            "type": "string"
          },
          "area": {
            "type": "string"
          },
          "lotSize": {
            "type": "string"
          },
          "parkingSpaces": {
            "type": "string"
          }
        }
      },
      "UnitCreateRequest": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "bedrooms": {
            "type": "string"
          },
          "bathrooms": {
            "type": "string"
          },
          "size": {
            "type": "string"
          },
          "marketRent": {
            "type": "string"
          },
          "note": {
            "type": "string"
          }
        }
      }
    }
  }
}